"use strict";(self.webpackChunkmy_async=self.webpackChunkmy_async||[]).push([[820],{7820:(q,f,p)=>{p.r(f),p.d(f,{routes:()=>k});var m=p(6538),n=p(4946),r=p(6814),u=p(5861);const y="section-data";let d=(()=>{var t;class a{getData(){return(0,u.Z)(function*(){return JSON.parse(localStorage.getItem(y)??"null")})()}setData(e){return(0,u.Z)(function*(){localStorage.setItem(y,JSON.stringify(e))})()}}return(t=a).\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),a})();const _=function(t){return[t]};function g(t,a){if(1&t&&(n.ynx(0),n.TgZ(1,"dt")(2,"a",3),n._uU(3),n.qZA()(),n.TgZ(4,"dd"),n._uU(5),n.qZA(),n.BQk()),2&t){const o=a.$implicit,e=a.index,i=n.oxw(2);n.xp6(2),n.Q6J("routerLink",n.VKq(3,_,e)),n.xp6(1),n.hij(" Section ",e+1,""),n.xp6(2),n.Oqu(i.getResult(o).toLocaleString())}}function D(t,a){if(1&t&&(n.TgZ(0,"dl"),n.YNc(1,g,6,5,"ng-container",2),n.qZA()),2&t){const o=n.oxw();n.xp6(1),n.Q6J("ngForOf",o.data)}}function C(t,a){1&t&&(n.TgZ(0,"div"),n._uU(1,"No Data"),n.qZA())}let x=(()=>{var t;class a{getResult(e){return e.reduce((i,c)=>i+c,0)}}return(t=a).\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-dynamic-section-display"]],inputs:{data:"data"},standalone:!0,features:[n.jDz],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noData",""],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,i){if(1&e&&(n.YNc(0,D,2,1,"dl",0),n.YNc(1,C,2,0,"ng-template",null,1,n.W1O)),2&e){const c=n.MAs(2);n.Q6J("ngIf",i.data)("ngIfElse",c)}},dependencies:[r.ez,r.sg,r.O5,m.rH]}),a})();function h(t,a){1&t&&n._UZ(0,"router-outlet")}function S(t,a){if(1&t&&(n.ynx(0),n._UZ(1,"app-dynamic-section-display",1),n.YNc(2,h,1,0,"router-outlet",0),n.BQk()),2&t){const o=a.ngIf;n.xp6(1),n.Q6J("data","undefined"===o?void 0:o),n.xp6(1),n.Q6J("ngIf","undefined"!==o)}}let v=(()=>{var t;class a{constructor(){this.dataService=(0,n.f3M)(d),this.data$=this.dataService.getData().then(e=>e??"undefined")}}return(t=a).\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-dynamic-section-display-page"]],standalone:!0,features:[n.jDz],decls:2,vars:3,consts:[[4,"ngIf"],[3,"data"]],template:function(e,i){1&e&&(n.YNc(0,S,3,2,"ng-container",0),n.ALo(1,"async")),2&e&&n.Q6J("ngIf",n.lcZ(1,1,i.data$))},dependencies:[r.ez,r.O5,r.Ov,m.Bz,m.lC,x]}),a})();var s=p(95),Z=p(1993);function I(t,a){if(1&t){const o=n.EpF();n.ynx(0),n.TgZ(1,"label",7),n._uU(2),n.qZA(),n._UZ(3,"input",9),n.TgZ(4,"button",5),n.NdJ("click",function(){const c=n.CHM(o).index,l=n.oxw().$implicit,w=n.oxw();return n.KtG(w.removeInput(l,c))}),n._uU(5," X "),n.qZA(),n.BQk()}if(2&t){const o=a.index,e=n.oxw(),i=e.index,c=e.$implicit;n.xp6(1),n.hYB("for","app-in-",i,"-",o,""),n.xp6(1),n.hij(" Input ",o+1," "),n.xp6(1),n.hYB("id","app-in-",i,"-",o,""),n.Q6J("formControlName",o),n.xp6(1),n.Q6J("disabled",1===c.length)}}function T(t,a){if(1&t){const o=n.EpF();n.TgZ(0,"section",4)(1,"header")(2,"button",2),n.NdJ("click",function(){const c=n.CHM(o).$implicit,l=n.oxw();return n.KtG(l.addInput(c))}),n._uU(3,"Add"),n.qZA(),n.TgZ(4,"h2"),n._uU(5," Section "),n.TgZ(6,"span"),n._uU(7),n.qZA()(),n.TgZ(8,"button",5),n.NdJ("click",function(){const c=n.CHM(o).index,l=n.oxw();return n.KtG(l.removeSection(c))}),n._uU(9," X "),n.qZA()(),n.TgZ(10,"div"),n.YNc(11,I,6,7,"ng-container",6),n.TgZ(12,"label",7),n._uU(13,"result"),n.qZA(),n.TgZ(14,"output",8),n._uU(15),n.qZA(),n._UZ(16,"span"),n.qZA()()}if(2&t){const o=a.$implicit,e=a.index,i=n.oxw();n.Q6J("formArrayName",e),n.xp6(7),n.Oqu(e+1),n.xp6(1),n.Q6J("disabled",1===i.formGroup.controls.data.controls.length),n.xp6(3),n.Q6J("ngForOf",o.controls),n.xp6(1),n.MGl("for","app-in-result-",e,""),n.xp6(2),n.MGl("id","app-in-result-",e,""),n.xp6(1),n.hij(" ",i.getResult(o).toLocaleString()," ")}}let F=(()=>{var t;class a{constructor(){this.fb=(0,n.f3M)(s.qu).nonNullable,this.destroyRef=(0,n.f3M)(n.ktI),this.dataChange=new n.vpe}ngOnInit(){this.formGroup=this.fb.group({data:this.fb.array((this.data??[[0]]).map(e=>this.fb.array(e.map(i=>this.fb.control(i)))))}),this.formGroup.valueChanges.pipe((0,Z.sL)(this.destroyRef)).subscribe(()=>{this.dataChange.emit(this.formGroup.getRawValue().data)})}addSection(){this.formGroup.controls.data.push(this.fb.array([this.fb.control(0)]))}removeSection(e){this.formGroup.controls.data.removeAt(e)}addInput(e){e.push(this.fb.control(0))}removeInput(e,i){e.removeAt(i)}getResult(e){return e.controls.reduce((i,c)=>i+c.value,0)}}return(t=a).\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-dynamic-section-form"]],inputs:{data:"data"},outputs:{dataChange:"dataChange"},standalone:!0,features:[n.jDz],decls:5,vars:2,consts:[[3,"formGroup"],["formArrayName","data"],["type","button",3,"click"],[3,"formArrayName",4,"ngFor","ngForOf"],[3,"formArrayName"],["type","button",3,"disabled","click"],[4,"ngFor","ngForOf"],[3,"for"],[3,"id"],["type","number",3,"id","formControlName"]],template:function(e,i){1&e&&(n.TgZ(0,"form",0),n.ynx(1,1),n.TgZ(2,"button",2),n.NdJ("click",function(){return i.addSection()}),n._uU(3,"Add Section"),n.qZA(),n.YNc(4,T,17,7,"section",3),n.BQk(),n.qZA()),2&e&&(n.Q6J("formGroup",i.formGroup),n.xp6(4),n.Q6J("ngForOf",i.formGroup.controls.data.controls))},dependencies:[r.ez,r.sg,s.UX,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.sg,s.u,s.CE]}),a})();function A(t,a){if(1&t){const o=n.EpF();n.ynx(0),n.TgZ(1,"app-dynamic-section-form",1),n.NdJ("dataChange",function(i){n.CHM(o);const c=n.oxw();return n.KtG(c.onDataChange(i))}),n.qZA(),n.BQk()}if(2&t){const o=a.ngIf;n.xp6(1),n.Q6J("data","undefined"===o?void 0:o)}}let J=(()=>{var t;class a{constructor(){this.dataService=(0,n.f3M)(d),this.data$=this.dataService.getData().then(e=>e??"undefined")}onDataChange(e){var i=this;return(0,u.Z)(function*(){yield i.dataService.setData(e)})()}}return(t=a).\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-dynamic-section-form-page"]],standalone:!0,features:[n.jDz],decls:2,vars:3,consts:[[4,"ngIf"],[3,"data","dataChange"]],template:function(e,i){1&e&&(n.YNc(0,A,2,1,"ng-container",0),n.ALo(1,"async")),2&e&&n.Q6J("ngIf",n.lcZ(1,1,i.data$))},dependencies:[r.ez,r.O5,r.Ov,m.Bz,F]}),a})();function N(t,a){if(1&t&&(n.ynx(0),n.TgZ(1,"dt"),n._uU(2),n.qZA(),n.TgZ(3,"dd"),n._uU(4),n.qZA(),n.BQk()),2&t){const o=a.$implicit,e=a.index;n.xp6(2),n.hij("Section ",e+1,""),n.xp6(2),n.Oqu(o.toLocaleString())}}function Q(t,a){if(1&t&&(n.TgZ(0,"dl"),n.YNc(1,N,5,2,"ng-container",2),n.qZA()),2&t){const o=n.oxw();n.xp6(1),n.Q6J("ngForOf",o.data)}}function O(t,a){1&t&&(n.TgZ(0,"div"),n._uU(1,"No Data"),n.qZA())}let U=(()=>{var t;class a{}return(t=a).\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-dynamic-input-display"]],inputs:{data:"data"},standalone:!0,features:[n.jDz],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noData",""],[4,"ngFor","ngForOf"]],template:function(e,i){if(1&e&&(n.YNc(0,Q,2,1,"dl",0),n.YNc(1,O,2,0,"ng-template",null,1,n.W1O)),2&e){const c=n.MAs(2);n.Q6J("ngIf",i.data)("ngIfElse",c)}},dependencies:[r.ez,r.sg,r.O5]}),a})();var P=p(4664);function b(t,a){if(1&t&&(n.ynx(0),n._UZ(1,"app-dynamic-input-display",1),n.BQk()),2&t){const o=a.ngIf;n.xp6(1),n.Q6J("data",o)}}const k=[{path:"",component:(()=>{var t;class a{}return(t=a).\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-dynamic-section-page"]],standalone:!0,features:[n.jDz],decls:9,vars:0,consts:[["routerLinkActive","app-st-actvie"],["routerLink","view"],["routerLink","form"]],template:function(e,i){1&e&&(n.TgZ(0,"nav")(1,"ul")(2,"li",0)(3,"a",1),n._uU(4,"view"),n.qZA()(),n.TgZ(5,"li",0)(6,"a",2),n._uU(7,"form"),n.qZA()()()(),n._UZ(8,"router-outlet"))},dependencies:[r.ez,m.Od,m.rH,m.lC]}),a})(),children:[{path:"",redirectTo:"view",pathMatch:"full"},{path:"view",component:v,children:[{path:":index",component:(()=>{var t;class a{constructor(){var e=this;this.dataService=(0,n.f3M)(d),this.route=(0,n.f3M)(m.gz),this.data$=this.route.params.pipe((0,P.w)(function(){var i=(0,u.Z)(function*(c){return((yield e.dataService.getData())??[])[c.index]});return function(c){return i.apply(this,arguments)}}()))}}return(t=a).\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-dynamic-input-display-page"]],standalone:!0,features:[n.jDz],decls:2,vars:3,consts:[[4,"ngIf"],[3,"data"]],template:function(e,i){1&e&&(n.YNc(0,b,2,1,"ng-container",0),n.ALo(1,"async")),2&e&&n.Q6J("ngIf",n.lcZ(1,1,i.data$))},dependencies:[r.ez,r.O5,r.Ov,U]}),a})()}]},{path:"form",component:J}]}]}}]);